<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
  <script>
    students = [];

    $(document).ready(function (){
      displayData();

      $("#saveStudent").click(function (){
        let rollNo = $("#txtRollNo").val();
        let name = $("#txtName").val();
        let dept = $("#txtDept").val();
        let imageUrl = $("#txtImagaeUrl").val();

        let data = {rollNo,name,dept,imageUrl};
        students.push(data);
        displayData();
      })
    });


    function displayData(){
      let formatedData = students.map((s)=>{
        let temp = "<tr>";
          temp += "<td>"+ s.rollNo +"</td>";
          temp += "<td>"+ s.name +"</td>";
          temp += "<td>"+ s.dept +"</td>";
          temp += "<td><img width='50px' src='"+ s.imageUrl +"'/></td>";
          temp += "<td><button onclick='deleteStudent("+s.rollNo+")'>Delete</button></td>"
        temp += "</tr>";
        return temp;
      });

      let finalData = "<table border=1>"+formatedData.join("")+"</table>";
      $("#dataDisplay").html(finalData);
    }

    function deleteStudent(rn){
      const indexToDelete = students.findIndex((s)=>{
        return s.rollNo==rn
      });
      students.splice(indexToDelete,1)
      displayData();
    }
  </script>

  <table>
    <tr>
      <td>Enter RollNumber</td>
      <td>:</td>
      <td><input type="text" id="txtRollNo"/></td>
    </tr>
    <tr>
      <td>Enter Name</td>
      <td>:</td>
      <td><input type="text" id="txtName"/></td>
    </tr>
    <tr>
      <td>Enter Department</td>
      <td>:</td>
      <td><input type="text" id="txtDept"/></td>
    </tr>
    <tr>
      <td>Enter Image Path</td>
      <td>:</td>
      <td><input type="text" id="txtImagaeUrl"/></td>
    </tr>
    <tr>
      <td colspan="3">
        <input type="button" id="saveStudent" value="Add Student"/>
      </td>
    </tr>
  </table>

  <h1>List of students</h1>
  <div id="dataDisplay">

  </div>
</body>
</html>
